{"ast":null,"code":"import _defineProperty from \"/Users/flatironschool/dev/mod4/week3/project/top-bun-burgerface/top-bun-burgerface-frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/flatironschool/dev/mod4/week3/project/top-bun-burgerface/top-bun-burgerface-frontend/src/Container/GameContainer.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Fragment } from \"react\";\nimport BurgerBuildContainer from \"./BurgerBuildContainer\";\nimport Ingredients from \"../Components/Ingredients.js\"; // import Countdown from 'react-countdown-now'\n\nimport Timer from \"../Components/Timer\";\nimport EndGame from \"../Components/EndGame\";\nimport Customers from \"../Components/Customers\";\nconst characters = ['Bart', 'Bobby', 'Cookie', 'Fry', 'Homer', 'Kirby', 'Patrick', 'Kid', 'Tina', 'Tom', 'Val', 'Winnie'];\nexport default class GameContainer extends React.Component {\n  constructor() {\n    super();\n\n    this.buildBurger = ingr => {\n      if (this.state.clickCounter < 10) {\n        this.setState({\n          currentBurger: [...this.state.currentBurger, ingr],\n          currentBurger2: [...this.state.currentBurger, ingr],\n          clickCounter: this.state.clickCounter + 1\n        });\n      } else {\n        alert(\"stahp\");\n      }\n    };\n\n    this.burgerSubmit = () => {\n      console.log(\"clicking the bunnnn\");\n      let results = [];\n\n      if (this.state.currentOrderNumber !== null) {\n        for (let i = 0; i < this.state.currentBurger.length; i++) {\n          if (this.state.currentBurger[i].name === this.props.orders[this.state.currentOrderNumber][i]) {\n            results.push(true);\n          }\n        }\n\n        if (results.length === 5) {\n          let update = this.state.currentScore;\n          this.setState({\n            currentScore: update + 1\n          });\n        } else {\n          this.setState({\n            incorrectBurger: true\n          });\n        }\n\n        this.setState({\n          currentBurger: [],\n          currentBurger2: [],\n          currentOrderNumber: null,\n          currentOrderNumber1: Math.floor(Math.random() * Object.keys(this.props.orders).length) + 1,\n          currentOrderNumber2: Math.floor(Math.random() * Object.keys(this.props.orders).length) + 1,\n          currentOrderNumber3: Math.floor(Math.random() * Object.keys(this.props.orders).length) + 1,\n          currentOrderNumber4: Math.floor(Math.random() * Object.keys(this.props.orders).length) + 1,\n          clickCounter: 0,\n          currentPic1: characters[Math.floor(Math.random() * characters.length)],\n          currentPic2: characters[Math.floor(Math.random() * characters.length)],\n          currentPic3: characters[Math.floor(Math.random() * characters.length)],\n          currentPic4: characters[Math.floor(Math.random() * characters.length)]\n        });\n      } else {\n        alert(\"Oh hey, you gotta pick a burger to build before you can submit it! See the four orders below the bottom bun.\");\n      }\n    };\n\n    this.changeGameState = () => {\n      console.log(this.state.currentScore);\n      this.setState(_objectSpread({}, this.initialState, {\n        gameEnded: !this.state.gameEnded,\n        modalState: !this.state.modalState,\n        lastScore: this.state.currentScore\n      }));\n\n      if (this.state.currentScore > this.props.currentPlayer.high_score) {\n        console.log(this.props.currentPlayer.id);\n        const data = {\n          high_score: this.state.currentScore\n        };\n        fetch(\"http://localhost:3000/players/\".concat(this.props.currentPlayer.id), {\n          method: \"PATCH\",\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            data\n          })\n        }).then(res => res.json()).then(player => this.props.updatePlayer(player));\n      }\n\n      ;\n    };\n\n    this.customerOrders = () => {\n      return this.props.orders[Math.floor(Math.random() * Object.keys(this.props.orders).length) + 1];\n    };\n\n    this.removeIngredient = () => {\n      console.log('attempting to remove');\n      this.state.currentBurger.pop();\n      this.state.currentBurger2.pop();\n      this.setState({\n        currentBurger: this.state.currentBurger,\n        currentBurger2: this.state.currentBurger2,\n        clickCounter: this.state.clickCounter - 1\n      });\n    };\n\n    this.selectOrder = orderNumber => {\n      this.setState({\n        currentOrderNumber: orderNumber\n      });\n    };\n\n    this.reverseIncorrectBurger = () => {\n      setTimeout(() => {\n        this.setState({\n          incorrectBurger: false\n        });\n      }, 2000);\n    };\n\n    this.state = this.initialState;\n  }\n\n  get initialState() {\n    return {\n      currentBurger: [],\n      currentBurger2: [],\n      currentOrderNumber: null,\n      currentScore: 0,\n      clickCounter: 0,\n      gameEnded: false,\n      modalState: false,\n      lastScore: 0,\n      currentOrderNumber1: Math.floor(Math.random() * 10) + 1,\n      currentOrderNumber2: Math.floor(Math.random() * 10) + 1,\n      currentOrderNumber3: Math.floor(Math.random() * 10) + 1,\n      currentOrderNumber4: Math.floor(Math.random() * 10) + 1,\n      currentPic1: characters[Math.floor(Math.random() * characters.length)],\n      currentPic2: characters[Math.floor(Math.random() * characters.length)],\n      currentPic3: characters[Math.floor(Math.random() * characters.length)],\n      currentPic4: characters[Math.floor(Math.random() * characters.length)]\n    };\n  }\n\n  // componentWillUnmount = () => {\n  //   this.clearTimeouts()\n  // }\n  render() {\n    // console.log(this.props.currentPlayer)\n    return React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, this.state.gameEnded === false ? React.createElement(\"div\", {\n      style: {\n        height: '100vh'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, \" \\uD83C\\uDF54 Top Bun \\uD83C\\uDF54 \"), React.createElement(Ingredients, {\n      buildBurger: this.buildBurger,\n      burgerSubmit: this.burgerSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"columns\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"column\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, this.props.orders[this.state.currentOrderNumber] ? this.props.orders[this.state.currentOrderNumber].slice(0).reverse().map((ingr, index) => React.createElement(\"p\", {\n      key: Math.floor(Math.random() * 1000000) + 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      style: {\n        margin: \"-45px\",\n        zIndex: \"-\".concat(index),\n        position: \"relative\",\n        backgroundSize: \"contain\"\n      },\n      height: \"50%\",\n      width: \"50%\",\n      alt: \"\",\n      src: require(\"../images/\".concat(ingr, \".png\")),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }))) : null), React.createElement(\"div\", {\n      className: \"column is-three-fifths\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, \" \", React.createElement(BurgerBuildContainer, {\n      burger: this.state.currentBurger2,\n      orders: this.props.orders,\n      removeIngredient: this.removeIngredient,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"column\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, \" \", React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, \"Current score: \", this.state.currentScore), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, \"Your high score: \", this.state.currentScore > this.props.currentPlayer.high_score ? this.state.currentScore : this.props.currentPlayer.high_score), React.createElement(Timer, {\n      changeGameState: this.changeGameState,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }), this.state.incorrectBurger ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }, \"Oop, you made the wrong burger!\"), this.reverseIncorrectBurger()) : null)), React.createElement(\"div\", {\n      style: {\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        justifyContent: \"centert\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }, React.createElement(Customers, {\n      selectOrder: this.selectOrder,\n      order: this.props.orders[this.state.currentOrderNumber1],\n      orderNumber: this.state.currentOrderNumber1,\n      currentPic: this.state.currentPic1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }), React.createElement(Customers, {\n      selectOrder: this.selectOrder,\n      order: this.props.orders[this.state.currentOrderNumber2],\n      orderNumber: this.state.currentOrderNumber2,\n      currentPic: this.state.currentPic2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    }), React.createElement(Customers, {\n      selectOrder: this.selectOrder,\n      order: this.props.orders[this.state.currentOrderNumber3],\n      orderNumber: this.state.currentOrderNumber3,\n      currentPic: this.state.currentPic3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254\n      },\n      __self: this\n    }), React.createElement(Customers, {\n      selectOrder: this.selectOrder,\n      order: this.props.orders[this.state.currentOrderNumber4],\n      orderNumber: this.state.currentOrderNumber4,\n      currentPic: this.state.currentPic4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    }))) : React.createElement(EndGame, {\n      exitGame: this.props.exitGame,\n      showModal: this.state.modalState,\n      lastScore: this.state.lastScore,\n      changeGameState: this.changeGameState,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/flatironschool/dev/mod4/week3/project/top-bun-burgerface/top-bun-burgerface-frontend/src/Container/GameContainer.js"],"names":["React","Fragment","BurgerBuildContainer","Ingredients","Timer","EndGame","Customers","characters","GameContainer","Component","constructor","buildBurger","ingr","state","clickCounter","setState","currentBurger","currentBurger2","alert","burgerSubmit","console","log","results","currentOrderNumber","i","length","name","props","orders","push","update","currentScore","incorrectBurger","currentOrderNumber1","Math","floor","random","Object","keys","currentOrderNumber2","currentOrderNumber3","currentOrderNumber4","currentPic1","currentPic2","currentPic3","currentPic4","changeGameState","initialState","gameEnded","modalState","lastScore","currentPlayer","high_score","id","data","fetch","method","headers","body","JSON","stringify","then","res","json","player","updatePlayer","customerOrders","removeIngredient","pop","selectOrder","orderNumber","reverseIncorrectBurger","setTimeout","render","height","slice","reverse","map","index","margin","zIndex","position","backgroundSize","require","display","flexDirection","alignItems","justifyContent","exitGame"],"mappings":"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","sourcesContent":["import React, { Fragment } from \"react\";\nimport BurgerBuildContainer from \"./BurgerBuildContainer\";\nimport Ingredients from \"../Components/Ingredients.js\";\n// import Countdown from 'react-countdown-now'\nimport Timer from \"../Components/Timer\";\nimport EndGame from \"../Components/EndGame\";\nimport Customers from \"../Components/Customers\";\n\n\nconst characters = ['Bart', 'Bobby', 'Cookie', 'Fry', 'Homer', 'Kirby', 'Patrick', 'Kid', 'Tina', 'Tom', 'Val', 'Winnie']\n\nexport default class GameContainer extends React.Component {\n  constructor() {\n    super();\n    this.state = this.initialState;\n  }\n\n  get initialState() {\n    return {\n      currentBurger: [],\n      currentBurger2: [],\n      currentOrderNumber: null,\n      currentScore: 0,\n      clickCounter: 0,\n      gameEnded: false,\n      modalState: false,\n      lastScore: 0,\n      currentOrderNumber1: Math.floor(Math.random() * 10) + 1,\n      currentOrderNumber2: Math.floor(Math.random() * 10) + 1,\n      currentOrderNumber3: Math.floor(Math.random() * 10) + 1,\n      currentOrderNumber4: Math.floor(Math.random() * 10) + 1,\n      currentPic1: characters[Math.floor(Math.random()*characters.length)],\n      currentPic2: characters[Math.floor(Math.random()*characters.length)],\n      currentPic3: characters[Math.floor(Math.random()*characters.length)],\n      currentPic4: characters[Math.floor(Math.random()*characters.length)]\n    };\n  }\n\n  buildBurger = ingr => {\n    if (this.state.clickCounter < 10) {\n      this.setState({\n        currentBurger: [...this.state.currentBurger, ingr],\n        currentBurger2: [...this.state.currentBurger, ingr],\n        clickCounter: this.state.clickCounter + 1\n      });\n    } else {\n      alert(\"stahp\");\n    }\n  };\n\n  burgerSubmit = () => {\n    console.log(\"clicking the bunnnn\");\n\n    let results = [];\n\n    if (this.state.currentOrderNumber !== null) {\n      for (let i = 0; i < this.state.currentBurger.length; i++) {\n        if (\n          this.state.currentBurger[i].name ===\n          this.props.orders[this.state.currentOrderNumber][i]\n        ) {\n          results.push(true);\n        }\n      }\n\n      if (results.length === 5) {\n        let update = this.state.currentScore;\n        this.setState({ currentScore: update + 1 });\n      } else {\n        this.setState({\n          incorrectBurger: true\n        });\n      }\n\n      this.setState({\n        currentBurger: [],\n        currentBurger2: [],\n        currentOrderNumber: null,\n        currentOrderNumber1:\n          Math.floor(Math.random() * Object.keys(this.props.orders).length) + 1,\n        currentOrderNumber2:\n          Math.floor(Math.random() * Object.keys(this.props.orders).length) + 1,\n        currentOrderNumber3:\n          Math.floor(Math.random() * Object.keys(this.props.orders).length) + 1,\n        currentOrderNumber4:\n          Math.floor(Math.random() * Object.keys(this.props.orders).length) + 1,\n        clickCounter: 0,\n        currentPic1: characters[Math.floor(Math.random()*characters.length)],\n        currentPic2: characters[Math.floor(Math.random()*characters.length)],\n        currentPic3: characters[Math.floor(Math.random()*characters.length)],\n        currentPic4: characters[Math.floor(Math.random()*characters.length)]\n      });\n    } else {\n      alert(\n        \"Oh hey, you gotta pick a burger to build before you can submit it! See the four orders below the bottom bun.\"\n      );\n    }\n  };\n\n  changeGameState = () => {\n    console.log(this.state.currentScore)\n    this.setState({\n      ...this.initialState,\n      gameEnded: !this.state.gameEnded,\n      modalState: !this.state.modalState,\n      lastScore: this.state.currentScore\n    });\n\n  \n    if (this.state.currentScore > this.props.currentPlayer.high_score) {\n      console.log(this.props.currentPlayer.id)\n      const data = {\n        high_score: this.state.currentScore \n      } \n\n      fetch(`http://localhost:3000/players/${this.props.currentPlayer.id}`, {\n        method: \"PATCH\",\n        headers: {\n          'Content-Type': 'application/json'\n        }, \n        body: JSON.stringify({data})\n      })\n        .then( res => res.json())\n        .then( player => this.props.updatePlayer(player))\n    };\n  }\n\n  customerOrders = () => {\n    return this.props.orders[\n      Math.floor(Math.random() * Object.keys(this.props.orders).length) + 1\n    ];\n  };\n\n  removeIngredient = () => {\n    console.log('attempting to remove')\n    this.state.currentBurger.pop();\n    this.state.currentBurger2.pop();\n\n    this.setState({\n      currentBurger: this.state.currentBurger,\n      currentBurger2: this.state.currentBurger2,\n      clickCounter: this.state.clickCounter - 1\n    });\n  };\n\n  selectOrder = orderNumber => {\n    this.setState({ currentOrderNumber: orderNumber });\n  };\n\n  reverseIncorrectBurger = () => {\n    setTimeout(() => {\n      this.setState({ incorrectBurger: false });\n    }, 2000);\n  };\n\n  // componentWillUnmount = () => {\n  //   this.clearTimeouts()\n  // }\n\n  render() {\n    // console.log(this.props.currentPlayer)\n    \n    return (\n      <Fragment>\n        {this.state.gameEnded === false ? (\n          <div style={{height: '100vh'}}>\n            <h1> 🍔 Top Bun 🍔 </h1>\n\n            <Ingredients\n              buildBurger={this.buildBurger}\n              burgerSubmit={this.burgerSubmit}\n            />\n\n            <div className=\"columns\">\n              <div className=\"column\">\n              \n                {/** rendering current order to be fulfilled **/}\n                {this.props.orders[this.state.currentOrderNumber]\n                  ? this.props.orders[this.state.currentOrderNumber]\n                      .slice(0)\n                      .reverse()\n                      .map((ingr, index) => (\n                        <p key={Math.floor(Math.random() * 1000000) + 1}>\n                          <img\n                            style={{\n                              margin: \"-45px\",\n                              zIndex: `-${index}`,\n                              position: \"relative\",\n                              backgroundSize: \"contain\"\n                            }}\n                            height=\"50%\"\n                            width=\"50%\"\n                            alt=\"\"\n                            src={require(`../images/${ingr}.png`)}\n                          ></img>\n                        </p>\n                      ))\n                  : null}\n              </div>\n\n              <div className=\"column is-three-fifths\">\n                {\" \"}\n                {/** this is where the magic of ingredient stacking happens **/}\n                <BurgerBuildContainer\n                  burger={this.state.currentBurger2}\n                  orders={this.props.orders}\n                  removeIngredient={this.removeIngredient}\n                />\n              </div>\n\n              <div className=\"column\">\n                {\" \"}\n                {/** rendering the current score, timer, and conditionally, an alert to show when someone built the wrong burger **/}\n                <h3>Current score: {this.state.currentScore}</h3>\n                <h3>Your high score: { \n                  this.state.currentScore > this.props.currentPlayer.high_score \n                  ? this.state.currentScore\n                  : this.props.currentPlayer.high_score\n                  }\n                </h3>\n                <Timer changeGameState={this.changeGameState} />\n                {this.state.incorrectBurger ? (\n                  <div>\n                    <h3>Oop, you made the wrong burger!</h3>\n                    {this.reverseIncorrectBurger()}\n                  </div>\n                ) : null}\n              </div>\n            </div>\n\n            {/* the div below renders the four random customer orders the user can pick to build next */}\n            <div\n              style={{\n                position: \"relative\",\n                display: \"flex\",\n                flexDirection: \"row\",\n                alignItems: \"center\",\n                justifyContent: \"centert\",\n               \n              }}\n            >\n              <Customers\n                selectOrder={this.selectOrder}\n                order={this.props.orders[this.state.currentOrderNumber1]}\n                orderNumber={this.state.currentOrderNumber1}\n                currentPic={this.state.currentPic1}\n              />\n              <Customers\n                selectOrder={this.selectOrder}\n                order={this.props.orders[this.state.currentOrderNumber2]}\n                orderNumber={this.state.currentOrderNumber2}\n                currentPic={this.state.currentPic2}\n              />\n              <Customers\n                selectOrder={this.selectOrder}\n                order={this.props.orders[this.state.currentOrderNumber3]}\n                orderNumber={this.state.currentOrderNumber3}\n                currentPic={this.state.currentPic3}\n              />\n              <Customers\n                selectOrder={this.selectOrder}\n                order={this.props.orders[this.state.currentOrderNumber4]}\n                orderNumber={this.state.currentOrderNumber4}\n                currentPic={this.state.currentPic4}\n              />\n            </div>\n          </div>\n        ) : (\n          <EndGame\n            exitGame={this.props.exitGame}\n            showModal={this.state.modalState}\n            lastScore={this.state.lastScore}\n            changeGameState={this.changeGameState}\n          />\n        )}\n      </Fragment>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}